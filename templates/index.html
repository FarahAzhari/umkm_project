<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>GoFood Merchant UI Clone</title>
    <style>
        body {
    margin: 0;
    font-family: 'Segoe UI', Arial, sans-serif;
    background: #fafbfc;
}
.sidebar {
    width: 260px;
    background: #fff;
    height: 100vh;
    position: fixed;
    left: 0; top: 0;
    border-right: 1px solid #ececec;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}
.logo {
    padding: 24px 16px 8px 24px;
    font-size: 24px;
    font-weight: bold;
}
.gofood { color: #ff2e2e; }
.merchant {
    background: #ececec;
    color: #333;
    border-radius: 6px;
    font-size: 12px;
    padding: 2px 6px;
    margin-left: 4px;
}
.menu {
    list-style: none;
    padding: 0 0 0 16px;
    margin: 0;
}
.menu li {
    padding: 12px 0;
    color: #778;
    cursor: pointer;
}
.menu li.active {
    background: #f6f6f6;
    color: #222;
    font-weight: bold;
    border-radius: 8px;
    padding-left: 12px;
}
.profile {
    display: flex;
    align-items: center;
    padding: 16px 16px;
    background: #f4f4f4;
    border-top: 1px solid #ececec;
}
.avatar {
    background: #6c2bd7;
    color: #fff;
    width: 42px; height: 42px;
    border-radius: 50%;
    display: flex;
    align-items: center; justify-content: center;
    font-weight: bold;
    font-size: 18px;
    margin-right: 12px;
}
.role {
    font-size: 12px;
    color: #888;
}
.main-content {
    margin-left: 260px;
    padding: 32px 40px 40px 40px;
}
.header h1 {
    margin: 0 0 24px 0;
    font-size: 32px;
}
.tabs {
    display: flex;
    gap: 24px;
    margin-bottom: 16px;
}
.tab {
    padding: 8px 0;
    cursor: pointer;
    color: #888;
    border-bottom: 2px solid transparent;
}
.tab.active {
    color: #222;
    border-bottom: 2px solid #ff2e2e;
    font-weight: bold;
}
.search-bar {
    display: flex;
    gap: 12px;
    margin-bottom: 24px;
}
.search-bar select, .search-bar input {
    padding: 8px 12px;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 16px;
}
.btn-green {
    background: #0f9d0f;
    color: #fff;
    border: none;
    border-radius: 6px;
    padding: 8px 20px;
    font-size: 16px;
    cursor: pointer;
}
.btn-outline-green {
    color: #0f9d0f;
    border: 2px solid #0f9d0f;
    background: #fff;
    border-radius: 6px;
    padding: 8px 20px;
    font-size: 16px;
    cursor: pointer;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 8px;
}
table {
    width: 100%;
    background: #fff;
    border-radius: 8px;
    border-collapse: collapse;
    margin-top: 12px;
    font-size: 16px;
}
th, td {
    padding: 16px 12px;
    text-align: left;
}
th {
    background: #fafbfc;
    color: #888;
    font-weight: bold;
}
tr:not(:last-child) {
    border-bottom: 1px solid #f0f0f0;
}

/* CHATBOT */
#chatbot-container {
    position: fixed;
    bottom: 32px;
    right: 32px;
    z-index: 9999;
}
#chatbot-btn {
    background: #ff6f00;
    border: none;
    border-radius: 50%;
    width: 56px;
    height: 56px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.16);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    transition: background 0.2s;
}
#chatbot-btn:hover {
    background: #e65c00;
}
#chatbot-btn img {
    width: 34px;
    height: 34px;
    display: block;
    pointer-events: none;
}

#chatbot-widget {
    background: #fff;
    color: #333;
    border-radius: 16px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.14);
    margin-bottom: 14px;
    min-width: 320px;
    max-width: 350px;
    display: flex;
    flex-direction: column;
    padding: 0 0 14px 0;
    animation: fadeInUp 0.18s;
    position: relative;
}
@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px);}
    to { opacity: 1; transform: translateY(0);}
}
#chatbot-widget.hidden { display: none; }
#chatbot-messages {
    min-height: 60px;
    max-height: 220px;
    overflow-y: auto;
    margin: 18px 18px 8px 18px;
    font-size: 15px;
    line-height: 1.6;
}
.chatbot-bubble {
    padding: 8px 14px;
    margin-bottom: 8px;
    border-radius: 12px;
    max-width: 90%;
    display: inline-block;
    word-break: break-word;
}
.chatbot-bubble.user {
    background: #f1f1f1;
    align-self: flex-end;
    color: #333;
    margin-left: 10%;
    text-align: right;
}
.chatbot-bubble.bot {
    background: #ffecb3;
    color: #914d00;
    align-self: flex-start;
    margin-right: 10%;
    text-align: left;
}
.chatbot-input-row {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 6px;
    margin-bottom: 2px;
    padding: 0 18px;
}
#chatbot-input {
    flex: 1;
    padding: 8px 12px;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 15px;
    margin-bottom: 0;
}
#chatbot-send, #chatbot-voice {
    padding: 8px 14px;
    border: none;
    border-radius: 8px;
    background: #ff6f00;
    color: white;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 44px;
    min-height: 38px;
}
#chatbot-send:hover, #chatbot-voice:hover, #chatbot-voice.active {
    background: #e65c00;
}
#chatbot-voice span {
    font-size: 20px;
    line-height: 1;
}
#chatbot-status {
    min-height: 18px;
    margin: 4px 20px 0 20px;
    font-size: 13px;
    color: #ff6f00;
    text-align: left;
    font-style: italic;
}

/* Responsive for mobile */
@media (max-width: 700px) {
    .sidebar { display: none; }
    .main-content { margin-left: 0; padding: 12px 4vw 12px 4vw;}
    #chatbot-widget {
        min-width: 98vw;
        max-width: 98vw;
        left: 1vw;
        right: 1vw;
        padding: 0 2vw 12px 2vw;
    }
    #chatbot-container {
        right: 2vw;
        bottom: 2vw;
    }
}

    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <span class="gofood">gofood</span>
            <span class="merchant">MERCHANT</span>
        </div>
        <ul class="menu">
            <li class="active">Menu</li>
            <li>Iklan & Promo</li>
            <li>Analisis Usaha</li>
            <li>Laporan</li>
            <li>Keuangan</li>
            <li>Daftar cabang</li>
            <li>GoDinein vouchers</li>
            <li>Akun</li>
            <li>Pengaturan</li>
            <li>OTHERS</li>
        </ul>
        <div class="profile">
            <div class="avatar">ZB</div>
            <div>
                <div>ZULFIKAR BELLA ALI</div>
                <div class="role">Pemilik</div>
            </div>
        </div>
    </div>
    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h1>Menu</h1>
        </div>
        <div class="tabs">
            <span class="tab active">Semua Menu</span>
            <span class="tab">Semua Kategori</span>
        </div>
        <div class="search-bar">
            <select>
                <option>Pilih Outlet</option>
                <option>Bakso Mantapp Menteng</option>
                <option>Bakso Mantapp Kuningan</option>
            </select>
            <input type="text" placeholder="Cari nama produk">
            <button class="btn-green">Cari</button>
        </div>
        <table>
            <thead>
                <tr>
                    <th>ID Produk</th>
                    <th>Nama Produk</th>
                    <th>Qty</th>
                    <th>Harga</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>G540987346</td>
                    <td>Bakso</td>
                    <td>20</td>
                    <td>Rp25.000</td>
                    <td><button class="btn-outline-green">Edit Menu</button></td>
                </tr>
            </tbody>
        </table>
    </div>
    <!-- Chatbot Button & Widget -->
    <div id="chatbot-container">
        <button id="chatbot-btn">
  <img src="https://wirai-storage.oss-ap-southeast-5.aliyuncs.com/images/chatbotgambar.png" 
       alt="Chatbot" 
       style="width:32px; height:32px; vertical-align:middle;">
</button>

        <div id="chatbot-widget" class="hidden">
            <div id="chatbot-messages"></div>
            <div class="chatbot-input-row">
    <input id="chatbot-input" type="text" placeholder="Ketik pesan..." autocomplete="off">
    <button id="chatbot-send">Kirim</button>
    <button id="chatbot-voice" title="Voice Input"><span id="voice-icon">ðŸŽ¤</span></button>
</div>

            <!-- <input id="chatbot-input" type="text" placeholder="Ketik pesan...">
            <button id="chatbot-send">Kirim</button>
            <button id="chatbot-voice">ðŸŽ¤</button> -->
        </div>
    </div>
    <script>
        document.getElementById('chatbot-btn').onclick = function() {
            const widget = document.getElementById('chatbot-widget');
            widget.classList.toggle('hidden');
        };
        document.getElementById('chatbot-send').onclick = sendMessage;
        document.getElementById('chatbot-input').addEventListener('keydown', function(e){
            if(e.key === "Enter") sendMessage();
        });
        function sendMessage() {
            const input = document.getElementById('chatbot-input');
            const msg = input.value.trim();
            if(!msg) return;
            appendMessage('<b>Anda:</b> ' + msg);
            input.value = '';
            fetch('/chat', {
                method: 'POST',
                headers: {'Content-Type':'application/json'},
                body: JSON.stringify({message: msg})
            })
            .then(res => res.json())
            .then(data => appendMessage('<b>WirAi:</b> ' + data.reply));
        }
        function appendMessage(text) {
            const messages = document.getElementById('chatbot-messages');
            messages.innerHTML += `<div style="margin-bottom:8px">${text}</div>`;
            messages.scrollTop = messages.scrollHeight;
        }

        // Voice input
        document.getElementById('chatbot-voice').onclick = function() {
            if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {
                alert('Browser tidak mendukung voice recognition');
                return;
            }
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            let recognition = new SpeechRecognition();
            recognition.lang = 'id-ID';
            recognition.onresult = function(event) {
                let transcript = event.results[0][0].transcript;
                document.getElementById('chatbot-input').value = transcript;
                sendMessage();
            };
            recognition.start();
        };
    </script>
</body>
</html>
